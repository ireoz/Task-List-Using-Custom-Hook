{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Andre/OneDrive/Desktop/web/react/CustomHook/04-onwards-to-a-more-realistic-example/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Andre/OneDrive/Desktop/web/react/CustomHook/04-onwards-to-a-more-realistic-example/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Andre/OneDrive/Desktop/web/react/CustomHook/04-onwards-to-a-more-realistic-example/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useState}from\"react\";var Usehttp=function Usehttp(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var sendRequest=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(requestInfo,applyData){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setError(null);_context.prev=2;_context.next=5;return fetch('https://reactdb-9d4c7-default-rtdb.europe-west1.firebasedatabase.app/tasks.json',{method:requestInfo.method?requestInfo.method:'GET',body:requestInfo.body?JSON.stringify(requestInfo.body):null,headers:requestInfo.headers?requestInfo.headers:{}});case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error('Request failed!');case 8:_context.next=10;return response.json();case 10:data=_context.sent;applyData(data);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);setError(_context.t0.message||'Something went wrong!');case 17:setIsLoading(false);case 18:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[]);return{isLoading:isLoading,error:error,sendRequest:sendRequest};};export default Usehttp;","map":{"version":3,"names":["useCallback","useState","Usehttp","isLoading","setIsLoading","error","setError","sendRequest","requestInfo","applyData","fetch","method","body","JSON","stringify","headers","response","ok","Error","json","data","message"],"sources":["C:/Users/Andre/OneDrive/Desktop/web/react/CustomHook/04-onwards-to-a-more-realistic-example/src/Hooks/use-http.js"],"sourcesContent":["import { useCallback, useState } from \"react\";\r\n\r\nconst Usehttp = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const sendRequest =  useCallback(async (requestInfo,applyData) => {\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(\r\n        'https://reactdb-9d4c7-default-rtdb.europe-west1.firebasedatabase.app/tasks.json',\r\n        {\r\n            method: requestInfo.method ? requestInfo.method : 'GET',\r\n            body: requestInfo.body ? JSON.stringify(requestInfo.body) : null,\r\n            headers: requestInfo.headers ? requestInfo.headers : {}\r\n        }\r\n            );\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Request failed!');\r\n      }\r\n\r\n      const data = await response.json();\r\n      applyData(data)\r\n\r\n    } catch (err) {\r\n      setError(err.message || 'Something went wrong!');\r\n    }\r\n    setIsLoading(false);\r\n    \r\n    },[])\r\n\r\n    return { isLoading, error, sendRequest};\r\n}\r\n\r\nexport default Usehttp;"],"mappings":"miBAAA,OAASA,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CAE7C,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CAClB,cAAkCD,QAAQ,CAAC,KAAK,CAAC,wCAA1CE,SAAS,eAAEC,YAAY,eAC9B,eAA0BH,QAAQ,CAAC,IAAI,CAAC,yCAAjCI,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,YAAW,CAAIP,WAAW,4FAAC,iBAAOQ,WAAW,CAACC,SAAS,sIAE7DL,YAAY,CAAC,IAAI,CAAC,CAClBE,QAAQ,CAAC,IAAI,CAAC,CAAC,sCAEUI,MAAK,CAC1B,iFAAiF,CACjF,CACIC,MAAM,CAAEH,WAAW,CAACG,MAAM,CAAGH,WAAW,CAACG,MAAM,CAAG,KAAK,CACvDC,IAAI,CAAEJ,WAAW,CAACI,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACN,WAAW,CAACI,IAAI,CAAC,CAAG,IAAI,CAChEG,OAAO,CAAEP,WAAW,CAACO,OAAO,CAAGP,WAAW,CAACO,OAAO,CAAG,CAAC,CAC1D,CAAC,CACI,QAPDC,QAAQ,kBASTA,QAAQ,CAACC,EAAE,8BACR,IAAIC,MAAK,CAAC,iBAAiB,CAAC,+BAGjBF,SAAQ,CAACG,IAAI,EAAE,SAA5BC,IAAI,eACVX,SAAS,CAACW,IAAI,CAAC,kFAGfd,QAAQ,CAAC,YAAIe,OAAO,EAAI,uBAAuB,CAAC,CAAC,QAEnDjB,YAAY,CAAC,KAAK,CAAC,CAAC,qEAEnB,mEAAC,EAAE,CAAC,CAEL,MAAO,CAAED,SAAS,CAATA,SAAS,CAAEE,KAAK,CAALA,KAAK,CAAEE,WAAW,CAAXA,WAAW,CAAC,CAC3C,CAAC,CAED,cAAeL,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}