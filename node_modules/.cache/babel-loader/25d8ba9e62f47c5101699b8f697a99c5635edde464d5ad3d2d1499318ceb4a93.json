{"ast":null,"code":"import _slicedToArray from\"C:/Users/Andre/OneDrive/Desktop/web/react/CustomHook/04-onwards-to-a-more-realistic-example/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Tasks from'./components/Tasks/Tasks';import NewTask from'./components/NewTask/NewTask';import Usehttp from'./Hooks/use-http';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _Usehttp=Usehttp(),isLoading=_Usehttp.isLoading,error=_Usehttp.error,fetchTasks=_Usehttp.sendRequest;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];function addTask(taskData){var loadedTasks=[];for(var taskKey in taskData){loadedTasks.push({id:taskKey,text:taskData[taskKey].text});}setTasks(loadedTasks);}useEffect(function(){fetchTasks({},addTask);},[fetchTasks]);var taskAddHandler=function taskAddHandler(task){setTasks(function(prevTasks){return prevTasks.concat(task);});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(NewTask,{onAddTask:taskAddHandler}),/*#__PURE__*/_jsx(Tasks,{items:tasks,loading:isLoading,error:error,onFetch:fetchTasks})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Tasks","NewTask","Usehttp","App","isLoading","error","fetchTasks","sendRequest","tasks","setTasks","addTask","taskData","loadedTasks","taskKey","push","id","text","taskAddHandler","task","prevTasks","concat"],"sources":["C:/Users/Andre/OneDrive/Desktop/web/react/CustomHook/04-onwards-to-a-more-realistic-example/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport Tasks from './components/Tasks/Tasks';\nimport NewTask from './components/NewTask/NewTask';\nimport Usehttp from './Hooks/use-http';\n\nfunction App() {\n const { isLoading, error, sendRequest: fetchTasks} = Usehttp();\n  const [tasks, setTasks] = useState([]);\n\n\n  function addTask(taskData){\n  \n    const loadedTasks = [];\n\n    for (const taskKey in taskData) {\n      loadedTasks.push({ id: taskKey, text: taskData[taskKey].text });\n    }\n\n    setTasks(loadedTasks);\n  }\n  \n\n     \n    \n  useEffect(() => {\n    fetchTasks({}, addTask);\n  }, [fetchTasks]);\n\n  const taskAddHandler = (task) => {\n    setTasks((prevTasks) => prevTasks.concat(task));\n  };\n\n  return (\n    <React.Fragment>\n      <NewTask onAddTask={taskAddHandler} />\n      <Tasks\n        items={tasks}\n        loading={isLoading}\n        error={error}\n        onFetch={fetchTasks}\n      />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"iLAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,MAAOC,MAAK,KAAM,0BAA0B,CAC5C,MAAOC,QAAO,KAAM,8BAA8B,CAClD,MAAOC,QAAO,KAAM,kBAAkB,CAAC,wFAEvC,QAASC,IAAG,EAAG,CACd,aAAqDD,OAAO,EAAE,CAAtDE,SAAS,UAATA,SAAS,CAAEC,KAAK,UAALA,KAAK,CAAeC,UAAU,UAAvBC,WAAW,CACpC,cAA0BR,QAAQ,CAAC,EAAE,CAAC,wCAA/BS,KAAK,eAAEC,QAAQ,eAGtB,QAASC,QAAO,CAACC,QAAQ,CAAC,CAExB,GAAMC,YAAW,CAAG,EAAE,CAEtB,IAAK,GAAMC,QAAO,GAAIF,SAAQ,CAAE,CAC9BC,WAAW,CAACE,IAAI,CAAC,CAAEC,EAAE,CAAEF,OAAO,CAAEG,IAAI,CAAEL,QAAQ,CAACE,OAAO,CAAC,CAACG,IAAK,CAAC,CAAC,CACjE,CAEAP,QAAQ,CAACG,WAAW,CAAC,CACvB,CAKAd,SAAS,CAAC,UAAM,CACdQ,UAAU,CAAC,CAAC,CAAC,CAAEI,OAAO,CAAC,CACzB,CAAC,CAAE,CAACJ,UAAU,CAAC,CAAC,CAEhB,GAAMW,eAAc,CAAG,QAAjBA,eAAc,CAAIC,IAAI,CAAK,CAC/BT,QAAQ,CAAC,SAACU,SAAS,QAAKA,UAAS,CAACC,MAAM,CAACF,IAAI,CAAC,GAAC,CACjD,CAAC,CAED,mBACE,MAAC,KAAK,CAAC,QAAQ,yBACb,KAAC,OAAO,EAAC,SAAS,CAAED,cAAe,EAAG,cACtC,KAAC,KAAK,EACJ,KAAK,CAAET,KAAM,CACb,OAAO,CAAEJ,SAAU,CACnB,KAAK,CAAEC,KAAM,CACb,OAAO,CAAEC,UAAW,EACpB,GACa,CAErB,CAEA,cAAeH,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}